From 6fccd2dfd756781ecdbac31036773ae765f2f4d2 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@gmail.com>
Date: Tue, 9 Jun 2020 00:58:16 +0200
Subject: [PATCH] Fix build with Qt >= 5.15
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

A matter to accept these days: The amount of greedy morons increases beyond bearable!

Upstream-Status: Pending

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@gmail.com>
---
 benchmarks/kis_stroke_benchmark.cpp                             | 1 +
 libs/basicflakes/tools/KoCreatePathTool_p.h                     | 1 +
 libs/brush/kis_auto_brush.cpp                                   | 1 +
 libs/brush/kis_boundary.cc                                      | 1 +
 libs/brush/kis_brush.cpp                                        | 1 +
 libs/flake/KoClipMask.cpp                                       | 1 +
 libs/flake/KoClipMaskPainter.cpp                                | 1 +
 libs/flake/KoConnectionShape.cpp                                | 1 +
 libs/flake/KoGradientBackground.cpp                             | 1 +
 libs/flake/KoHatchBackground.cpp                                | 1 +
 libs/flake/KoOdfGradientBackground.cpp                          | 1 +
 libs/flake/KoPathShape.cpp                                      | 1 +
 libs/flake/KoPatternBackground.cpp                              | 2 ++
 libs/flake/KoShapeManager.cpp                                   | 1 +
 libs/flake/KoShapeShadow.cpp                                    | 1 +
 libs/flake/KoSnapGuide.cpp                                      | 1 +
 libs/flake/KoSnapStrategy.cpp                                   | 1 +
 libs/flake/svg/SvgParser.cpp                                    | 1 +
 libs/flake/tests/TestKoMarkerCollection.cpp                     | 1 +
 libs/flake/tests/TestPointMergeCommand.cpp                      | 1 +
 libs/flake/tests/TestShapeBackgroundCommand.cpp                 | 1 +
 libs/flake/tests/TestSnapStrategy.cpp                           | 1 +
 libs/flake/tests/TestSvgParser.cpp                              | 1 +
 libs/flake/tests/TestSvgText.cpp                                | 1 +
 libs/flake/text/KoSvgTextChunkShape_p.h                         | 1 +
 libs/flake/tools/KoPathTool.cpp                                 | 1 +
 libs/global/KisHandlePainterHelper.cpp                          | 1 +
 libs/image/brushengine/kis_paintop_settings.cpp                 | 1 +
 libs/ui/flake/kis_shape_selection.h                             | 2 ++
 libs/ui/kis_painting_assistants_decoration.cpp                  | 1 +
 libs/ui/kis_selection_decoration.h                              | 1 +
 libs/ui/tool/kis_shape_tool_helper.cpp                          | 1 +
 libs/ui/tool/kis_tool_paint.h                                   | 1 +
 libs/ui/widgets/kis_cie_tongue_widget.cpp                       | 1 +
 libs/ui/widgets/kis_curve_widget.cpp                            | 1 +
 libs/ui/widgets/kis_tone_curve_widget.cpp                       | 1 +
 plugins/assistants/Assistants/ConcentricEllipseAssistant.cc     | 1 +
 plugins/assistants/Assistants/EllipseAssistant.cc               | 1 +
 plugins/assistants/Assistants/FisheyePointAssistant.cc          | 1 +
 plugins/assistants/Assistants/InfiniteRulerAssistant.cc         | 1 +
 plugins/assistants/Assistants/ParallelRulerAssistant.cc         | 1 +
 plugins/assistants/Assistants/PerspectiveAssistant.cc           | 1 +
 plugins/assistants/Assistants/RulerAssistant.cc                 | 1 +
 plugins/assistants/Assistants/SplineAssistant.cc                | 1 +
 plugins/assistants/Assistants/VanishingPointAssistant.cc        | 1 +
 plugins/assistants/Assistants/kis_assistant_tool.cc             | 1 +
 plugins/dockers/histogram/histogramdockerwidget.cpp             | 1 +
 plugins/flake/pathshapes/enhancedpath/EnhancedPathShape.cpp     | 1 +
 plugins/flake/textshape/TextShape.cpp                           | 1 +
 plugins/paintops/curvebrush/curve_brush.cpp                     | 1 +
 plugins/paintops/curvebrush/kis_curve_paintop.cpp               | 1 +
 plugins/paintops/experiment/kis_experiment_paintop.h            | 1 +
 plugins/tools/defaulttool/defaulttool/DefaultTool.cpp           | 1 +
 plugins/tools/defaulttool/defaulttool/SelectionDecorator.cpp    | 1 +
 .../tools/CalligraphyTool/KarbonCalligraphicShape.cpp           | 1 +
 .../karbonplugins/tools/CalligraphyTool/KarbonCalligraphyTool.h | 1 +
 plugins/tools/svgtexttool/SvgTextTool.cpp                       | 1 +
 plugins/tools/tool_transform2/kis_free_transform_strategy.cpp   | 1 +
 plugins/tools/tool_transform2/kis_liquify_paint_helper.cpp      | 1 +
 .../tools/tool_transform2/kis_liquify_transform_strategy.cpp    | 1 +
 .../tool_transform2/kis_perspective_transform_strategy.cpp      | 1 +
 plugins/tools/tool_transform2/kis_transform_strategy_base.cpp   | 1 +
 plugins/tools/tool_transform2/kis_transform_utils.cpp           | 1 +
 plugins/tools/tool_transform2/kis_warp_transform_strategy.cpp   | 1 +
 64 files changed, 66 insertions(+)

diff --git a/benchmarks/kis_stroke_benchmark.cpp b/benchmarks/kis_stroke_benchmark.cpp
index 93296b2..335928a 100644
--- a/benchmarks/kis_stroke_benchmark.cpp
+++ b/benchmarks/kis_stroke_benchmark.cpp
@@ -27,6 +27,7 @@ inline double drand48()
 #endif
 
 #include <QTest>
+#include <QPainterPath>
 
 #include "kis_stroke_benchmark.h"
 #include "kis_benchmark_values.h"
diff --git a/libs/basicflakes/tools/KoCreatePathTool_p.h b/libs/basicflakes/tools/KoCreatePathTool_p.h
index 3864604..6526362 100644
--- a/libs/basicflakes/tools/KoCreatePathTool_p.h
+++ b/libs/basicflakes/tools/KoCreatePathTool_p.h
@@ -32,6 +32,7 @@
 #include "KoToolBase_p.h"
 #include <KoViewConverter.h>
 #include "kis_config.h"
+#include <QPainterPath>
 
 #include "math.h"
 
diff --git a/libs/brush/kis_auto_brush.cpp b/libs/brush/kis_auto_brush.cpp
index 67289b4..fbe457f 100644
--- a/libs/brush/kis_auto_brush.cpp
+++ b/libs/brush/kis_auto_brush.cpp
@@ -31,6 +31,7 @@
 #include <QBuffer>
 #include <QFile>
 #include <QFileInfo>
+#include <QPainterPath>
 
 #include <KoColor.h>
 #include <KoColorSpace.h>
diff --git a/libs/brush/kis_boundary.cc b/libs/brush/kis_boundary.cc
index a599d8e..5695428 100644
--- a/libs/brush/kis_boundary.cc
+++ b/libs/brush/kis_boundary.cc
@@ -18,6 +18,7 @@
 
 #include "kis_boundary.h"
 #include <QPainter>
+#include <QPainterPath>
 #include <QPen>
 
 #include "KoColorSpace.h"
diff --git a/libs/brush/kis_brush.cpp b/libs/brush/kis_brush.cpp
index 8a0f787..fe9aa2a 100644
--- a/libs/brush/kis_brush.cpp
+++ b/libs/brush/kis_brush.cpp
@@ -28,6 +28,7 @@
 #include <QPoint>
 #include <QFileInfo>
 #include <QBuffer>
+#include <QPainterPath>
 
 #include <kis_debug.h>
 #include <klocalizedstring.h>
diff --git a/libs/flake/KoClipMask.cpp b/libs/flake/KoClipMask.cpp
index 8a21648..364d731 100644
--- a/libs/flake/KoClipMask.cpp
+++ b/libs/flake/KoClipMask.cpp
@@ -21,6 +21,7 @@
 #include <QRectF>
 #include <QTransform>
 #include <QPainter>
+#include <QPainterPath>
 #include <KoShape.h>
 #include "kis_algebra_2d.h"
 
diff --git a/libs/flake/KoClipMaskPainter.cpp b/libs/flake/KoClipMaskPainter.cpp
index 4fa456c..e7ea496 100644
--- a/libs/flake/KoClipMaskPainter.cpp
+++ b/libs/flake/KoClipMaskPainter.cpp
@@ -19,6 +19,7 @@
 #include "KoClipMaskPainter.h"
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QRectF>
 
 #include "kis_assert.h"
diff --git a/libs/flake/KoConnectionShape.cpp b/libs/flake/KoConnectionShape.cpp
index e8b5c80..d8dfee3 100644
--- a/libs/flake/KoConnectionShape.cpp
+++ b/libs/flake/KoConnectionShape.cpp
@@ -34,6 +34,7 @@
 #include <KoXmlNS.h>
 #include <KoUnit.h>
 #include <QPainter>
+#include <QPainterPath>
 
 #include <FlakeDebug.h>
 
diff --git a/libs/flake/KoGradientBackground.cpp b/libs/flake/KoGradientBackground.cpp
index 3f69791..0630d68 100644
--- a/libs/flake/KoGradientBackground.cpp
+++ b/libs/flake/KoGradientBackground.cpp
@@ -31,6 +31,7 @@
 #include <QSharedPointer>
 #include <QBrush>
 #include <QPainter>
+#include <QPainterPath>
 
 class KoGradientBackgroundPrivate : public KoShapeBackgroundPrivate
 {
diff --git a/libs/flake/KoHatchBackground.cpp b/libs/flake/KoHatchBackground.cpp
index f556f12..23a0b48 100644
--- a/libs/flake/KoHatchBackground.cpp
+++ b/libs/flake/KoHatchBackground.cpp
@@ -36,6 +36,7 @@
 #include <QColor>
 #include <QString>
 #include <QPainter>
+#include <QPainterPath>
 
 class KoHatchBackgroundPrivate : public KoColorBackgroundPrivate
 {
diff --git a/libs/flake/KoOdfGradientBackground.cpp b/libs/flake/KoOdfGradientBackground.cpp
index 20f7aa7..3a90a8a 100644
--- a/libs/flake/KoOdfGradientBackground.cpp
+++ b/libs/flake/KoOdfGradientBackground.cpp
@@ -32,6 +32,7 @@
 #include <KoOdfStylesReader.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QColor>
 #include <QImage>
 #include <qmath.h>
diff --git a/libs/flake/KoPathShape.cpp b/libs/flake/KoPathShape.cpp
index 2768a0e..9069877 100644
--- a/libs/flake/KoPathShape.cpp
+++ b/libs/flake/KoPathShape.cpp
@@ -50,6 +50,7 @@
 
 #include <FlakeDebug.h>
 #include <QPainter>
+#include <QPainterPath>
 
 #include "kis_global.h"
 
diff --git a/libs/flake/KoPatternBackground.cpp b/libs/flake/KoPatternBackground.cpp
index d98ecf8..3742713 100644
--- a/libs/flake/KoPatternBackground.cpp
+++ b/libs/flake/KoPatternBackground.cpp
@@ -37,6 +37,8 @@
 
 #include <QBrush>
 #include <QPainter>
+#include <QPainter>
+#include <QPainterPath>
 #include <QPointer>
 
 class KoPatternBackgroundPrivate : public KoShapeBackgroundPrivate
diff --git a/libs/flake/KoShapeManager.cpp b/libs/flake/KoShapeManager.cpp
index 43bacd5..845c0bb 100644
--- a/libs/flake/KoShapeManager.cpp
+++ b/libs/flake/KoShapeManager.cpp
@@ -49,6 +49,7 @@
 #include <QApplication>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QTimer>
 #include <FlakeDebug.h>
 
diff --git a/libs/flake/KoShapeShadow.cpp b/libs/flake/KoShapeShadow.cpp
index 2997590..df346d7 100644
--- a/libs/flake/KoShapeShadow.cpp
+++ b/libs/flake/KoShapeShadow.cpp
@@ -32,6 +32,7 @@
 #include <KoViewConverter.h>
 #include <FlakeDebug.h>
 #include <QPainter>
+#include <QPainterPath>
 #include <QAtomicInt>
 #include <QImage>
 #include <QRectF>
diff --git a/libs/flake/KoSnapGuide.cpp b/libs/flake/KoSnapGuide.cpp
index da7f770..0d8e5a9 100644
--- a/libs/flake/KoSnapGuide.cpp
+++ b/libs/flake/KoSnapGuide.cpp
@@ -27,6 +27,7 @@
 #include <KoCanvasBase.h>
 
 #include <QPainter>
+#include <QPainterPath>
 
 #include <math.h>
 
diff --git a/libs/flake/KoSnapStrategy.cpp b/libs/flake/KoSnapStrategy.cpp
index cab1d09..8b09b10 100644
--- a/libs/flake/KoSnapStrategy.cpp
+++ b/libs/flake/KoSnapStrategy.cpp
@@ -27,6 +27,7 @@
 #include <KoViewConverter.h>
 
 #include <QPainter>
+#include <QPainterPath>
 
 #include <cmath>
 
diff --git a/libs/flake/svg/SvgParser.cpp b/libs/flake/svg/SvgParser.cpp
index 4f29f6f..44a90aa 100644
--- a/libs/flake/svg/SvgParser.cpp
+++ b/libs/flake/svg/SvgParser.cpp
@@ -31,6 +31,7 @@
 
 #include <QColor>
 #include <QPainter>
+#include <QPainterPath>
 #include <QDir>
 
 #include <KoShape.h>
diff --git a/libs/flake/tests/TestKoMarkerCollection.cpp b/libs/flake/tests/TestKoMarkerCollection.cpp
index de05a13..ac9f570 100644
--- a/libs/flake/tests/TestKoMarkerCollection.cpp
+++ b/libs/flake/tests/TestKoMarkerCollection.cpp
@@ -21,6 +21,7 @@
 #include <QTest>
 #include <QFileInfo>
 #include <QPainter>
+#include <QPainterPath>
 #include <KoMarker.h>
 #include <KoMarkerCollection.h>
 #include <KoPathShape.h>
diff --git a/libs/flake/tests/TestPointMergeCommand.cpp b/libs/flake/tests/TestPointMergeCommand.cpp
index ee6c647..894da4e 100644
--- a/libs/flake/tests/TestPointMergeCommand.cpp
+++ b/libs/flake/tests/TestPointMergeCommand.cpp
@@ -24,6 +24,7 @@
 #include "KoPathPointData.h"
 #include <sdk/tests/kistest.h>
 #include <QTest>
+#include <QPainterPath>
 #include <FlakeDebug.h>
 
 void TestPointMergeCommand::closeSingleLinePath()
diff --git a/libs/flake/tests/TestShapeBackgroundCommand.cpp b/libs/flake/tests/TestShapeBackgroundCommand.cpp
index a3a44cd..dde1943 100644
--- a/libs/flake/tests/TestShapeBackgroundCommand.cpp
+++ b/libs/flake/tests/TestShapeBackgroundCommand.cpp
@@ -25,6 +25,7 @@
 #include "KoViewConverter.h"
 
 #include <QTest>
+#include <QPainterPath>
 
 void TestShapeBackgroundCommand::refCounting()
 {
diff --git a/libs/flake/tests/TestSnapStrategy.cpp b/libs/flake/tests/TestSnapStrategy.cpp
index 8df1995..fc9b4bc 100644
--- a/libs/flake/tests/TestSnapStrategy.cpp
+++ b/libs/flake/tests/TestSnapStrategy.cpp
@@ -29,6 +29,7 @@
 #include <sdk/tests/kistest.h>
 //#include <PointProperties.h>
 #include <KoSnapData.h>
+#include <QPainterPath>
 
 void TestSnapStrategy::testOrthogonalSnap()
 {
diff --git a/libs/flake/tests/TestSvgParser.cpp b/libs/flake/tests/TestSvgParser.cpp
index b03ac84..ceff3d9 100644
--- a/libs/flake/tests/TestSvgParser.cpp
+++ b/libs/flake/tests/TestSvgParser.cpp
@@ -33,6 +33,7 @@
 #include <QBuffer>
 #include <QDomDocument>
 #endif
+#include <QPainterPath>
 
 
 void TestSvgParser::testUnitPx()
diff --git a/libs/flake/tests/TestSvgText.cpp b/libs/flake/tests/TestSvgText.cpp
index d2bb6bd..9f44110 100644
--- a/libs/flake/tests/TestSvgText.cpp
+++ b/libs/flake/tests/TestSvgText.cpp
@@ -28,6 +28,7 @@
 #include <SvgLoadingContext.h>
 #include <SvgGraphicContext.h>
 #include <QFont>
+#include <QPainterPath>
 
 void addProp(SvgLoadingContext &context,
              KoSvgTextProperties &props,
diff --git a/libs/flake/text/KoSvgTextChunkShape_p.h b/libs/flake/text/KoSvgTextChunkShape_p.h
index 8c59d96..e9a9730 100644
--- a/libs/flake/text/KoSvgTextChunkShape_p.h
+++ b/libs/flake/text/KoSvgTextChunkShape_p.h
@@ -22,6 +22,7 @@
 #include "KoSvgTextProperties.h"
 #include <KoShapeContainer_p.h>
 #include <QTextCharFormat>
+#include <QPainterPath>
 
 class SvgGraphicsContext;
 
diff --git a/libs/flake/tools/KoPathTool.cpp b/libs/flake/tools/KoPathTool.cpp
index dae2d08..ce043a4 100644
--- a/libs/flake/tools/KoPathTool.cpp
+++ b/libs/flake/tools/KoPathTool.cpp
@@ -66,6 +66,7 @@
 #include <FlakeDebug.h>
 #include <klocalizedstring.h>
 #include <QPainter>
+#include <QPainterPath>
 #include <QBitmap>
 #include <QTabWidget>
 
diff --git a/libs/global/KisHandlePainterHelper.cpp b/libs/global/KisHandlePainterHelper.cpp
index 7d66629..24b8137 100644
--- a/libs/global/KisHandlePainterHelper.cpp
+++ b/libs/global/KisHandlePainterHelper.cpp
@@ -19,6 +19,7 @@
 #include "KisHandlePainterHelper.h"
 
 #include <QPainter>
+#include <QPainterPath>
 #include "kis_algebra_2d.h"
 #include "kis_painting_tweaks.h"
 
diff --git a/libs/image/brushengine/kis_paintop_settings.cpp b/libs/image/brushengine/kis_paintop_settings.cpp
index 87f5c53..c64a02a 100644
--- a/libs/image/brushengine/kis_paintop_settings.cpp
+++ b/libs/image/brushengine/kis_paintop_settings.cpp
@@ -22,6 +22,7 @@
 #include <QImage>
 #include <QColor>
 #include <QPointer>
+#include <QPainterPath>
 
 #include <KoPointerEvent.h>
 #include <KoColor.h>
diff --git a/libs/ui/flake/kis_shape_selection.h b/libs/ui/flake/kis_shape_selection.h
index 3b2e853..5a14c67 100644
--- a/libs/ui/flake/kis_shape_selection.h
+++ b/libs/ui/flake/kis_shape_selection.h
@@ -27,6 +27,8 @@
 #include <kis_types.h>
 
 #include <kritaui_export.h>
+#include <QPainterPath>
+
 
 class KoStore;
 class KoShapeManager;
diff --git a/libs/ui/kis_painting_assistants_decoration.cpp b/libs/ui/kis_painting_assistants_decoration.cpp
index 11838e6..a0a684c 100644
--- a/libs/ui/kis_painting_assistants_decoration.cpp
+++ b/libs/ui/kis_painting_assistants_decoration.cpp
@@ -33,6 +33,7 @@
 #include "KisViewManager.h"
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QApplication>
 
 struct KisPaintingAssistantsDecoration::Private {
diff --git a/libs/ui/kis_selection_decoration.h b/libs/ui/kis_selection_decoration.h
index ea90ebb..934b7fb 100644
--- a/libs/ui/kis_selection_decoration.h
+++ b/libs/ui/kis_selection_decoration.h
@@ -22,6 +22,7 @@
 #include <QTimer>
 #include <QPolygon>
 #include <QPen>
+#include <QPainterPath>
 
 #include <kis_signal_compressor.h>
 #include "canvas/kis_canvas_decoration.h"
diff --git a/libs/ui/tool/kis_shape_tool_helper.cpp b/libs/ui/tool/kis_shape_tool_helper.cpp
index 4edab2a..d9d12ad 100644
--- a/libs/ui/tool/kis_shape_tool_helper.cpp
+++ b/libs/ui/tool/kis_shape_tool_helper.cpp
@@ -22,6 +22,7 @@
 #include <KoShapeRegistry.h>
 #include <KoShapeFactoryBase.h>
 #include <KoProperties.h>
+#include <QPainterPath>
 
 
 KoShape* KisShapeToolHelper::createRectangleShape(const QRectF& rect, qreal roundCornersX, qreal roundCornersY)
diff --git a/libs/ui/tool/kis_tool_paint.h b/libs/ui/tool/kis_tool_paint.h
index d3ea6f6..537e368 100644
--- a/libs/ui/tool/kis_tool_paint.h
+++ b/libs/ui/tool/kis_tool_paint.h
@@ -24,6 +24,7 @@
 #include <QGridLayout>
 #include <QTimer>
 #include <QCheckBox>
+#include <QPainterPath>
 
 #include <KoCanvasResourceProvider.h>
 #include <KoToolBase.h>
diff --git a/libs/ui/widgets/kis_cie_tongue_widget.cpp b/libs/ui/widgets/kis_cie_tongue_widget.cpp
index 79a8bfc..3225b45 100644
--- a/libs/ui/widgets/kis_cie_tongue_widget.cpp
+++ b/libs/ui/widgets/kis_cie_tongue_widget.cpp
@@ -43,6 +43,7 @@ wavelength, and thus define the outline of the CIE "tongue" diagram.
 #include <QFile>
 #include <QTimer>
 #include <QPaintEvent>
+#include <QPainterPath>
 #include <QImage>
 #include <cmath>
 
diff --git a/libs/ui/widgets/kis_curve_widget.cpp b/libs/ui/widgets/kis_curve_widget.cpp
index 1c5292d..6d43f28 100644
--- a/libs/ui/widgets/kis_curve_widget.cpp
+++ b/libs/ui/widgets/kis_curve_widget.cpp
@@ -36,6 +36,7 @@
 #include <QMouseEvent>
 #include <QKeyEvent>
 #include <QPaintEvent>
+#include <QPainterPath>
 #include <QList>
 #include <QApplication>
 
diff --git a/libs/ui/widgets/kis_tone_curve_widget.cpp b/libs/ui/widgets/kis_tone_curve_widget.cpp
index 679fed4..6eaca4b 100644
--- a/libs/ui/widgets/kis_tone_curve_widget.cpp
+++ b/libs/ui/widgets/kis_tone_curve_widget.cpp
@@ -25,6 +25,7 @@
 #include <QPointF>
 #include <QPolygonF>
 #include <QPainter>
+#include <QPainterPath>
 #include <QPaintEvent>
 #include <QImage>
 #include <cmath>
diff --git a/plugins/assistants/Assistants/ConcentricEllipseAssistant.cc b/plugins/assistants/Assistants/ConcentricEllipseAssistant.cc
index 8c14b96..44078f3 100644
--- a/plugins/assistants/Assistants/ConcentricEllipseAssistant.cc
+++ b/plugins/assistants/Assistants/ConcentricEllipseAssistant.cc
@@ -23,6 +23,7 @@
 #include <klocalizedstring.h>
 #include "kis_debug.h"
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 #include <kis_canvas2.h>
diff --git a/plugins/assistants/Assistants/EllipseAssistant.cc b/plugins/assistants/Assistants/EllipseAssistant.cc
index 8b3b16c..09d48fd 100644
--- a/plugins/assistants/Assistants/EllipseAssistant.cc
+++ b/plugins/assistants/Assistants/EllipseAssistant.cc
@@ -23,6 +23,7 @@
 #include <klocalizedstring.h>
 #include "kis_debug.h"
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/FisheyePointAssistant.cc b/plugins/assistants/Assistants/FisheyePointAssistant.cc
index 8338f4b..a5c0510 100644
--- a/plugins/assistants/Assistants/FisheyePointAssistant.cc
+++ b/plugins/assistants/Assistants/FisheyePointAssistant.cc
@@ -25,6 +25,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/InfiniteRulerAssistant.cc b/plugins/assistants/Assistants/InfiniteRulerAssistant.cc
index 4fe1907..03da329 100644
--- a/plugins/assistants/Assistants/InfiniteRulerAssistant.cc
+++ b/plugins/assistants/Assistants/InfiniteRulerAssistant.cc
@@ -25,6 +25,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/ParallelRulerAssistant.cc b/plugins/assistants/Assistants/ParallelRulerAssistant.cc
index 2deb3d3..405a172 100644
--- a/plugins/assistants/Assistants/ParallelRulerAssistant.cc
+++ b/plugins/assistants/Assistants/ParallelRulerAssistant.cc
@@ -25,6 +25,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/PerspectiveAssistant.cc b/plugins/assistants/Assistants/PerspectiveAssistant.cc
index 46007b5..bcb2669 100644
--- a/plugins/assistants/Assistants/PerspectiveAssistant.cc
+++ b/plugins/assistants/Assistants/PerspectiveAssistant.cc
@@ -24,6 +24,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/RulerAssistant.cc b/plugins/assistants/Assistants/RulerAssistant.cc
index 48cc15e..64f1772 100644
--- a/plugins/assistants/Assistants/RulerAssistant.cc
+++ b/plugins/assistants/Assistants/RulerAssistant.cc
@@ -23,6 +23,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/SplineAssistant.cc b/plugins/assistants/Assistants/SplineAssistant.cc
index 20b19dd..dfbd872 100644
--- a/plugins/assistants/Assistants/SplineAssistant.cc
+++ b/plugins/assistants/Assistants/SplineAssistant.cc
@@ -23,6 +23,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/VanishingPointAssistant.cc b/plugins/assistants/Assistants/VanishingPointAssistant.cc
index 3cae70d..dbc66be 100644
--- a/plugins/assistants/Assistants/VanishingPointAssistant.cc
+++ b/plugins/assistants/Assistants/VanishingPointAssistant.cc
@@ -25,6 +25,7 @@
 #include <klocalizedstring.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QLinearGradient>
 #include <QTransform>
 
diff --git a/plugins/assistants/Assistants/kis_assistant_tool.cc b/plugins/assistants/Assistants/kis_assistant_tool.cc
index 4cff446..37ac8ee 100644
--- a/plugins/assistants/Assistants/kis_assistant_tool.cc
+++ b/plugins/assistants/Assistants/kis_assistant_tool.cc
@@ -21,6 +21,7 @@
 #include <kis_assistant_tool.h>
 
 #include <QPainter>
+#include <QPainterPath>
 #include <QXmlStreamReader>
 #include <QXmlStreamWriter>
 #include <QStandardPaths>
diff --git a/plugins/dockers/histogram/histogramdockerwidget.cpp b/plugins/dockers/histogram/histogramdockerwidget.cpp
index 5c8e29d..83aa432 100644
--- a/plugins/dockers/histogram/histogramdockerwidget.cpp
+++ b/plugins/dockers/histogram/histogramdockerwidget.cpp
@@ -24,6 +24,7 @@
 #include <algorithm>
 #include <QTime>
 #include <QPainter>
+#include <QPainterPath>
 #include <functional>
 
 #include "KoChannelInfo.h"
diff --git a/plugins/flake/pathshapes/enhancedpath/EnhancedPathShape.cpp b/plugins/flake/pathshapes/enhancedpath/EnhancedPathShape.cpp
index 3c246c9..8aaae60 100644
--- a/plugins/flake/pathshapes/enhancedpath/EnhancedPathShape.cpp
+++ b/plugins/flake/pathshapes/enhancedpath/EnhancedPathShape.cpp
@@ -22,6 +22,7 @@
  * Boston, MA 02110-1301, USA.
  */
 
+#include <QPainterPath>
 #include <KoParameterShape_p.h>
 
 #include "EnhancedPathShape.h"
diff --git a/plugins/flake/textshape/TextShape.cpp b/plugins/flake/textshape/TextShape.cpp
index c06c799..8652b9a 100644
--- a/plugins/flake/textshape/TextShape.cpp
+++ b/plugins/flake/textshape/TextShape.cpp
@@ -59,6 +59,7 @@
 #include <QPainter>
 #include <QPen>
 #include <QTextLayout>
+#include <QPainterPath>
 
 #include <QDebug>
 
diff --git a/plugins/paintops/curvebrush/curve_brush.cpp b/plugins/paintops/curvebrush/curve_brush.cpp
index 347cc31..8eabf71 100644
--- a/plugins/paintops/curvebrush/curve_brush.cpp
+++ b/plugins/paintops/curvebrush/curve_brush.cpp
@@ -16,6 +16,7 @@
  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
  */
 
+#include <QPainterPath>
 #include "curve_brush.h"
 
 #include <KoColor.h>
diff --git a/plugins/paintops/curvebrush/kis_curve_paintop.cpp b/plugins/paintops/curvebrush/kis_curve_paintop.cpp
index 295ee55..bbc20b0 100644
--- a/plugins/paintops/curvebrush/kis_curve_paintop.cpp
+++ b/plugins/paintops/curvebrush/kis_curve_paintop.cpp
@@ -21,6 +21,7 @@
 #include <cmath>
 
 #include <QRect>
+#include <QPainterPath>
 
 #include <kis_image.h>
 #include <kis_debug.h>
diff --git a/plugins/paintops/experiment/kis_experiment_paintop.h b/plugins/paintops/experiment/kis_experiment_paintop.h
index 19dec9b..1870d68 100644
--- a/plugins/paintops/experiment/kis_experiment_paintop.h
+++ b/plugins/paintops/experiment/kis_experiment_paintop.h
@@ -19,6 +19,7 @@
 #ifndef KIS_EXPERIMENT_PAINTOP_H_
 #define KIS_EXPERIMENT_PAINTOP_H_
 
+#include <QPainterPath>
 #include <klocalizedstring.h>
 #include <brushengine/kis_paintop.h>
 #include <kis_types.h>
diff --git a/plugins/tools/defaulttool/defaulttool/DefaultTool.cpp b/plugins/tools/defaulttool/defaulttool/DefaultTool.cpp
index de2787f..363025e 100644
--- a/plugins/tools/defaulttool/defaulttool/DefaultTool.cpp
+++ b/plugins/tools/defaulttool/defaulttool/DefaultTool.cpp
@@ -67,6 +67,7 @@
 
 #include <KoIcon.h>
 
+#include <QPainterPath>
 #include <QPointer>
 #include <QAction>
 #include <QKeyEvent>
diff --git a/plugins/tools/defaulttool/defaulttool/SelectionDecorator.cpp b/plugins/tools/defaulttool/defaulttool/SelectionDecorator.cpp
index 2c8c7db..963ff84 100644
--- a/plugins/tools/defaulttool/defaulttool/SelectionDecorator.cpp
+++ b/plugins/tools/defaulttool/defaulttool/SelectionDecorator.cpp
@@ -19,6 +19,7 @@
  * Boston, MA 02110-1301, USA.
 */
 
+#include <QPainterPath>
 #include "SelectionDecorator.h"
 
 #include <KoShape.h>
diff --git a/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphicShape.cpp b/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphicShape.cpp
index 2a461cb..1b9d81b 100644
--- a/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphicShape.cpp
+++ b/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphicShape.cpp
@@ -28,6 +28,7 @@
 
 #include <QDebug>
 #include <QColor>
+#include <QPainterPath>
 
 #include <cmath>
 #include <cstdlib>
diff --git a/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphyTool.h b/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphyTool.h
index 5bf3a8d..9533e39 100644
--- a/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphyTool.h
+++ b/plugins/tools/karbonplugins/tools/CalligraphyTool/KarbonCalligraphyTool.h
@@ -23,6 +23,7 @@
 #include <KoToolBase.h>
 #include <KoPathShape.h>
 #include <QPointer>
+#include <QPainterPath>
 
 #include "KarbonCalligraphyOptionWidget.h"
 
diff --git a/plugins/tools/svgtexttool/SvgTextTool.cpp b/plugins/tools/svgtexttool/SvgTextTool.cpp
index b735ea7..b8356df 100644
--- a/plugins/tools/svgtexttool/SvgTextTool.cpp
+++ b/plugins/tools/svgtexttool/SvgTextTool.cpp
@@ -31,6 +31,7 @@
 #include <QGroupBox>
 #include <QFontDatabase>
 #include <QButtonGroup>
+#include <QPainterPath>
 
 #include <klocalizedstring.h>
 
diff --git a/plugins/tools/tool_transform2/kis_free_transform_strategy.cpp b/plugins/tools/tool_transform2/kis_free_transform_strategy.cpp
index 9fd5578..6f5c298 100644
--- a/plugins/tools/tool_transform2/kis_free_transform_strategy.cpp
+++ b/plugins/tools/tool_transform2/kis_free_transform_strategy.cpp
@@ -20,6 +20,7 @@
 
 #include <QPointF>
 #include <QPainter>
+#include <QPainterPath>
 #include <QMatrix4x4>
 
 #include <KoResourcePaths.h>
diff --git a/plugins/tools/tool_transform2/kis_liquify_paint_helper.cpp b/plugins/tools/tool_transform2/kis_liquify_paint_helper.cpp
index 93b0067..ec29889 100644
--- a/plugins/tools/tool_transform2/kis_liquify_paint_helper.cpp
+++ b/plugins/tools/tool_transform2/kis_liquify_paint_helper.cpp
@@ -16,6 +16,7 @@
  *  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
  */
 
+#include <QPainterPath>
 #include "kis_liquify_paint_helper.h"
 
 #include "kis_algebra_2d.h"
diff --git a/plugins/tools/tool_transform2/kis_liquify_transform_strategy.cpp b/plugins/tools/tool_transform2/kis_liquify_transform_strategy.cpp
index 9662880..12d569b 100644
--- a/plugins/tools/tool_transform2/kis_liquify_transform_strategy.cpp
+++ b/plugins/tools/tool_transform2/kis_liquify_transform_strategy.cpp
@@ -22,6 +22,7 @@
 
 #include <QPointF>
 #include <QPainter>
+#include <QPainterPath>
 
 #include "KoPointerEvent.h"
 
diff --git a/plugins/tools/tool_transform2/kis_perspective_transform_strategy.cpp b/plugins/tools/tool_transform2/kis_perspective_transform_strategy.cpp
index 0cff5ed..b74d986 100644
--- a/plugins/tools/tool_transform2/kis_perspective_transform_strategy.cpp
+++ b/plugins/tools/tool_transform2/kis_perspective_transform_strategy.cpp
@@ -20,6 +20,7 @@
 
 #include <QPointF>
 #include <QPainter>
+#include <QPainterPath>
 #include <QMatrix4x4>
 #include <QVector2D>
 
diff --git a/plugins/tools/tool_transform2/kis_transform_strategy_base.cpp b/plugins/tools/tool_transform2/kis_transform_strategy_base.cpp
index 1e7603e..f2c0fe2 100644
--- a/plugins/tools/tool_transform2/kis_transform_strategy_base.cpp
+++ b/plugins/tools/tool_transform2/kis_transform_strategy_base.cpp
@@ -21,6 +21,7 @@
 #include <QImage>
 #include <QTransform>
 #include "KoPointerEvent.h"
+#include <QPainterPath>
 
 
 struct KisTransformStrategyBase::Private
diff --git a/plugins/tools/tool_transform2/kis_transform_utils.cpp b/plugins/tools/tool_transform2/kis_transform_utils.cpp
index 1fbbd52..74aece9 100644
--- a/plugins/tools/tool_transform2/kis_transform_utils.cpp
+++ b/plugins/tools/tool_transform2/kis_transform_utils.cpp
@@ -18,6 +18,7 @@
 
 #include "kis_transform_utils.h"
 
+#include <QPainterPath>
 #include <cmath>
 #include <QTransform>
 #include <KoUnit.h>
diff --git a/plugins/tools/tool_transform2/kis_warp_transform_strategy.cpp b/plugins/tools/tool_transform2/kis_warp_transform_strategy.cpp
index fdad9f3..9a2dd4d 100644
--- a/plugins/tools/tool_transform2/kis_warp_transform_strategy.cpp
+++ b/plugins/tools/tool_transform2/kis_warp_transform_strategy.cpp
@@ -22,6 +22,7 @@
 
 #include <QPointF>
 #include <QPainter>
+#include <QPainterPath>
 
 #include "kis_coordinates_converter.h"
 #include "tool_transform_args.h"
-- 
2.26.2

